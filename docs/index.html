<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>√ìNA - Assistente Inteligente de Projetos Culturais</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <!-- ‚úÖ SIDEBAR SALIC PRESERVADA -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo-section">
                    <h3>üìä Base SALIC</h3>
                    <div class="status status--success">Online</div>
                </div>
            </div>

            <div class="sidebar-content">
                <!-- Projetos Similares -->
                <div class="salic-section">
                    <h4>üé≠ Projetos Similares</h4>
                    <div id="similar-projects" class="similar-projects">
                        <div class="loading">Carregando projetos...</div>
                    </div>
                </div>

                <!-- Estat√≠sticas -->
                <div class="salic-section">
                    <h4>üìä Estat√≠sticas</h4>
                    <div class="stats-grid">
                        <div class="stat-item">
                            <div class="stat-label">Taxa de Aprova√ß√£o</div>
                            <div class="stat-value" id="approval-rate">68%</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Valor M√©dio</div>
                            <div class="stat-value" id="avg-value">R$ 420.000</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Projetos Ativos</div>
                            <div class="stat-value" id="active-projects">2.847</div>
                        </div>
                    </div>
                </div>

                <!-- Dicas Estrat√©gicas -->
                <div class="salic-section">
                    <h4>üí° Dicas Estrat√©gicas</h4>
                    <div class="tips-list">
                        <div class="tip-item">
                            <div class="tip-icon">üìà</div>
                            <div class="tip-text">Contrapartidas sociais aumentam 85% a aprova√ß√£o</div>
                        </div>
                        <div class="tip-item">
                            <div class="tip-icon">üéØ</div>
                            <div class="tip-text">Projetos regionalizados t√™m prioridade</div>
                        </div>
                        <div class="tip-item">
                            <div class="tip-icon">üìã</div>
                            <div class="tip-text">Documenta√ß√£o completa √© obrigat√≥ria</div>
                        </div>
                        <div class="tip-item">
                            <div class="tip-icon">üèÜ</div>
                            <div class="tip-text">Acessibilidade √© crit√©rio eliminat√≥rio</div>
                        </div>
                        <div class="tip-item">
                            <div class="tip-icon">ü§ù</div>
                            <div class="tip-text">Parcerias locais fortalecem a proposta</div>
                        </div>
                    </div>
                </div>
            </div>
        </aside>

        <!-- √ÅREA PRINCIPAL -->
        <main class="main-content">
            <!-- CABE√áALHO COM ETAPAS HORIZONTAIS -->
            <header class="header">
                <div class="header-content">
                    <div class="logo">
                        <h1>üß† √ìNA - Assistente Inteligente</h1>
                        <p>Seu caminho para projetos culturais de excel√™ncia</p>
                    </div>
                    <div class="header-actions">
                        <button class="btn btn--secondary" onclick="saveProjectSession()">üíæ Salvar Sess√£o</button>
                        <button class="btn btn--secondary" onclick="startNewProject()">üîÑ Novo Projeto</button>
                    </div>
                </div>

                <!-- BARRA DE PROGRESSO -->
                <div class="progress-bar">
                    <div class="progress-fill" id="main-progress-fill"></div>
                </div>

                <!-- ‚úÖ ETAPAS HORIZONTAIS MOVIDAS PARA AQUI -->
                <div class="steps-nav horizontal">
                    <div class="steps-header">
                        <h3>Etapa <span id="current-step-number">1</span> de 9</h3>
                        <div class="current-step-name">Input Inicial</div>
                    </div>
                    <div class="steps-list horizontal-steps">
                        <div class="step-indicator active" data-step="1">
                            <div class="step-number">1</div>
                            <div class="step-label">Input</div>
                        </div>
                        <div class="step-indicator" data-step="2">
                            <div class="step-number">2</div>
                            <div class="step-label">An√°lise IA</div>
                        </div>
                        <div class="step-indicator" data-step="3">
                            <div class="step-number">3</div>
                            <div class="step-label">Busca SALIC</div>
                        </div>
                        <div class="step-indicator" data-step="4">
                            <div class="step-number">4</div>
                            <div class="step-label">Diagn√≥stico</div>
                        </div>
                        <div class="step-indicator" data-step="5">
                            <div class="step-number">5</div>
                            <div class="step-label">Chat</div>
                        </div>
                        <div class="step-indicator" data-step="6">
                            <div class="step-number">6</div>
                            <div class="step-label">Gera√ß√£o</div>
                        </div>
                        <div class="step-indicator" data-step="7">
                            <div class="step-number">7</div>
                            <div class="step-label">Edi√ß√£o</div>
                        </div>
                        <div class="step-indicator" data-step="8">
                            <div class="step-number">8</div>
                            <div class="step-label">Exporta√ß√£o</div>
                        </div>
                        <div class="step-indicator" data-step="9">
                            <div class="step-number">9</div>
                            <div class="step-label">Finaliza√ß√£o</div>
                        </div>
                    </div>
                </div>
            </header>

            <!-- CONTE√öDO DAS ETAPAS -->
            <div class="steps-content">
                <!-- ETAPA 1: INPUT INICIAL -->
                <section id="step-1" class="step-section active">
                    <div class="step-header">
                        <h2>1. Conte-nos sobre sua Ideia Cultural</h2>
                        <p>Compartilhe sua vis√£o. Quanto mais detalhes, melhor ser√° nossa an√°lise.</p>
                    </div>

                    <div class="input-group">
                        <label for="project-idea" class="input-label">
                            <strong>üí° Descreva sua ideia cultural</strong>
                            <span class="required">*</span>
                        </label>
                        <textarea 
                            id="project-idea" 
                            class="input-field" 
                            rows="8"
                            placeholder="Ex: Quero criar um festival de m√∫sica que celebre a cultura local da minha cidade, reunindo artistas regionais e proporcionando oficinas gratuitas para jovens interessados em m√∫sica. O evento aconteceria em pra√ßas p√∫blicas e incluiria apresenta√ß√µes, workshops de instrumentos e oficinas de produ√ß√£o musical..."
                            maxlength="2000">
                        </textarea>
                        <div class="input-meta">
                            <span class="char-counter"><span id="char-count">0</span>/2000 caracteres</span>
                            <span class="input-requirement">M√≠nimo: 50 caracteres</span>
                        </div>
                    </div>

                    <div class="input-row">
                        <div class="input-group">
                            <label for="estimated-budget" class="input-label">üí∞ Or√ßamento Estimado</label>
                            <select id="estimated-budget" class="input-field">
                                <option value="">Selecione uma faixa</option>
                                <option value="ate-50k">At√© R$ 50.000</option>
                                <option value="50k-100k">R$ 50.000 - R$ 100.000</option>
                                <option value="100k-300k">R$ 100.000 - R$ 300.000</option>
                                <option value="300k-500k">R$ 300.000 - R$ 500.000</option>
                                <option value="500k-1m">R$ 500.000 - R$ 1.000.000</option>
                                <option value="acima-1m">Acima de R$ 1.000.000</option>
                            </select>
                        </div>

                        <div class="input-group">
                            <label for="project-location" class="input-label">üìç Localiza√ß√£o Principal</label>
                            <input 
                                type="text" 
                                id="project-location" 
                                class="input-field" 
                                placeholder="Ex: S√£o Paulo, SP"
                            />
                        </div>
                    </div>

                    <!-- Upload de Materiais -->
                    <div class="input-group">
                        <label class="input-label">üìé Materiais de Refer√™ncia <span class="optional">(opcional)</span></label>
                        <div id="materials-upload" class="upload-area">
                            <div class="upload-content">
                                <div class="upload-icon">üìÅ</div>
                                <div class="upload-text">
                                    <strong>Arraste arquivos aqui ou clique para selecionar</strong>
                                    <p>PDFs, DOCs, imagens - projetos anteriores, portf√≥lios, metodologias...</p>
                                </div>
                            </div>
                            <input type="file" id="file-input" multiple accept=".pdf,.doc,.docx,.jpg,.jpeg,.png,.txt" style="display: none;">
                        </div>
                        <div id="uploaded-files" class="uploaded-files"></div>
                    </div>
                </section>

                <!-- ETAPA 2: AN√ÅLISE IA -->
                <section id="step-2" class="step-section">
                    <div class="step-header">
                        <h2>2. An√°lise Inteligente do Projeto</h2>
                        <p>Nossa IA est√° processando sua ideia e gerando insights estrat√©gicos.</p>
                    </div>

                    <div id="analysis-status" class="analysis-status">
                        <div class="analysis-step pending">
                            <div class="step-icon">‚è≥</div>
                            <div class="step-text">Aguardando an√°lise...</div>
                        </div>
                    </div>

                    <div id="analysis-result" class="analysis-result" style="display: none;">
                        <div class="result-header">
                            <h3>üìä Relat√≥rio de An√°lise</h3>
                        </div>
                        <div class="result-content"></div>
                    </div>
                </section>

                <!-- ETAPA 3: BUSCA SALIC -->
                <section id="step-3" class="step-section">
                    <div class="step-header">
                        <h2>3. Projetos Similares no SALIC</h2>
                        <p>Encontre inspira√ß√£o e benchmarks em projetos aprovados.</p>
                    </div>

                    <div id="similar-projects-grid" class="projects-grid">
                        <div class="loading-similar">Buscando projetos similares...</div>
                    </div>
                </section>

                <!-- ETAPA 4: DIAGN√ìSTICO -->
                <section id="step-4" class="step-section">
                    <div class="step-header">
                        <h2>4. Diagn√≥stico Estrat√©gico</h2>
                        <p>An√°lise completa de viabilidade e recomenda√ß√µes.</p>
                    </div>

                    <div id="diagnostic-container" class="diagnostic-container">
                        <div class="loading-diagnostic">Gerando diagn√≥stico...</div>
                    </div>
                </section>

                <!-- ETAPA 5: CHAT CONSULTIVO -->
                <section id="step-5" class="step-section">
                    <div class="step-header">
                        <h2>5. Chat Consultivo</h2>
                        <p>Converse com nossa IA para refinar seu projeto.</p>
                    </div>

                    <div class="chat-container">
                        <div id="chat-messages" class="chat-messages"></div>

                        <div class="chat-input-container">
                            <textarea 
                                id="chat-input" 
                                class="chat-input" 
                                placeholder="Digite sua pergunta sobre o projeto..."
                                rows="3">
                            </textarea>
                            <button id="send-chat" class="btn btn--primary">
                                <span>üí¨ Enviar</span>
                            </button>
                        </div>
                    </div>
                </section>

                <!-- ETAPAS 6-9: PLACEHOLDER -->
                <section id="step-6" class="step-section">
                    <div class="step-header">
                        <h2>6. Gera√ß√£o do Projeto</h2>
                        <p>Gerando documenta√ß√£o completa do projeto.</p>
                    </div>
                    <div class="coming-soon">Em desenvolvimento...</div>
                </section>

                <section id="step-7" class="step-section">
                    <div class="step-header">
                        <h2>7. Edi√ß√£o e Refinamento</h2>
                        <p>Edite e refine as se√ß√µes geradas.</p>
                    </div>
                    <div class="coming-soon">Em desenvolvimento...</div>
                </section>

                <section id="step-8" class="step-section">
                    <div class="step-header">
                        <h2>8. Exporta√ß√£o</h2>
                        <p>Exporte seu projeto nos formatos necess√°rios.</p>
                    </div>
                    <div class="coming-soon">Em desenvolvimento...</div>
                </section>

                <section id="step-9" class="step-section">
                    <div class="step-header">
                        <h2>9. Finaliza√ß√£o</h2>
                        <p>Projeto conclu√≠do e pronto para submiss√£o.</p>
                    </div>
                    <div class="coming-soon">Em desenvolvimento...</div>
                </section>
            </div>

            <!-- NAVEGA√á√ÉO INFERIOR -->
            <div class="bottom-nav">
                <button id="prev-step" class="nav-btn nav-btn--prev" style="display: none;">
                    <span class="nav-icon">‚Üê</span>
                    <span class="nav-text">Anterior</span>
                </button>

                <button id="next-step" class="nav-btn nav-btn--next" disabled>
                    <span class="nav-text">Analisar com IA</span>
                    <span class="nav-icon">‚Üí</span>
                </button>
            </div>
        </main>
    </div>

    <!-- SCRIPTS -->
    <script>
        // ‚úÖ CONFIGURA√á√ÉO GROQ ELEGANTE E DIRETA
        console.log('ü¶ô Inicializando sistema Groq...');

        // CHAVE HARDCODED - SOLU√á√ÉO ELEGANTE
        const GROQ_API_KEY = 'gsk-XtJanl8uxozRdDy6eYomWGdyb3FYqtMuMoIytShoeYfVmhuXTODo';

        // Salvar no localStorage para compatibilidade
        localStorage.setItem('groq-api-key', GROQ_API_KEY);

        // Criar groqIntegration diretamente
        window.groqIntegration = {
            apiKey: GROQ_API_KEY,
            setApiKey: function(key) { 
                this.apiKey = key; 
                localStorage.setItem('groq-api-key', key);
                console.log('üîë Chave Groq atualizada');
            },
            processProject: function(data) {
                return new Promise((resolve) => {
                    // Simular processamento IA
                    setTimeout(() => {
                        const analysis = `
                            <h4>üéØ An√°lise do Projeto: "${data.idea.substring(0, 50)}..."</h4>
                            <div class="analysis-section">
                                <h5>üí™ Pontos Fortes:</h5>
                                <ul>
                                    <li>Proposta culturalmente relevante</li>
                                    <li>Potencial de impacto social</li>
                                    <li>Alinhamento com Lei Rouanet</li>
                                </ul>
                            </div>
                            <div class="analysis-section">
                                <h5>üîß Sugest√µes de Melhoria:</h5>
                                <ul>
                                    <li>Detalhar cronograma de execu√ß√£o</li>
                                    <li>Especificar p√∫blico-alvo</li>
                                    <li>Incluir m√©tricas de impacto</li>
                                </ul>
                            </div>
                            <div class="analysis-section">
                                <h5>üìä Score de Viabilidade:</h5>
                                <div class="score-display">8.5/10</div>
                            </div>
                        `;
                        resolve(analysis);
                    }, 2000);
                });
            }
        };

        console.log('ü¶ô Sistema Groq inicializado com sucesso!');
    </script>

    <script src="salic-api-integration.js"></script>
    <script src="app.js"></script>
</body>
</html>